# Система регистрации по токенам

## Описание изменений

В систему управления проектами была внедрена новая система регистрации пользователей по токенам вместо выбора роли. Это позволяет более гибко управлять доступом и автоматически добавлять исполнителей в команду проекта.

## Изменения в системе

### 1. Изменение формы регистрации
- Поле выбора роли заменено на поле ввода токена
- Добавлена валидация токена при регистрации

### 2. Новая логика регистрации
- Роль пользователя определяется по токену, а не выбирается вручную
- Исполнители автоматически добавляются в команду проекта при регистрации по токену

### 3. Система генерации токенов
- Администраторы могут генерировать токены для всех ролей (администратор, руководитель, исполнитель)
- Руководители проектов могут генерировать токены только для исполнителей
- Токены привязываются к конкретным проектам (для исполнителей)

### 4. Автоматическое добавление в команду
- При регистрации исполнителя по токену, он автоматически добавляется в команду соответствующего проекта
- Токен после использования становится недействительным

## Использование

### Генерация токенов
1. Войдите в систему как администратор или руководитель проекта
2. Перейдите на главную страницу (панель управления)
3. Найдите раздел "Генерация токенов для регистрации"
4. Выберите роль пользователя (для руководителей доступна только роль исполнителя)
5. Для исполнителя выберите проект, к которому он будет привязан
6. Нажмите "Сгенерировать токен"
7. Скопируйте сгенерированный токен и передайте пользователю

### Регистрация по токену
1. Перейдите на страницу регистрации
2. Введите имя пользователя, пароль и ФИО
3. Введите действительный токен в поле "Токен регистрации"
4. Нажмите "Зарегистрировать"
5. Пользователь будет зарегистрирован с ролью, соответствующей токену

## Ограничения
- Один токен может быть использован только один раз
- Руководители могут генерировать токены только для исполнителей
- Исполнитель может быть добавлен только в один проект при регистрации
- Токен для исполнителя должен быть привязан к проекту